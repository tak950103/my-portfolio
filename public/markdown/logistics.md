## 院内物流管理システム

---

### 目的
病院内での効率的な入出庫管理を実現し、業務負担の軽減を図る。

---

### 背景
以前はExcelで管理していたが、ハードウェア更新に伴い、システム化を決定。以前のシステム(Excel)では、発注書作成が主目的だったが、在庫管理や購買履歴の管理などを機能拡張することとなった。

---
### 期間
2024年6月 ～ 2025年7月（開発期間：約半年）

---

### 規模・体制
- 商品登録数：年ごとに数千点
- 発注点数：年ごとに数万点
- ユーザー数：
	- 主な運用担当者：5～10名
	- 閲覧のみの利用者：各課で複数名
- 運用体制：
	- 運用立会を定期的に実施
	- 運用後の問い合わせ対応も担当

---

### 担当
- 要件定義
- UI設計・API設計・DB設計
- フロントエンド開発(主)
- バックエンド開発(副)
- 現場ヒアリング・運用立会
- 保守・改善対応

---

### 技術
#### フロントエンド
- WPF(.NET8.0)
- MVVMアーキテクチャ
#### バックエンド
- Laravel
#### データベース
- MySQL
#### 使用ツール
- Redmine
- Bitbucket、SourceTree

---

### 主な機能

| 機能                   | 内容                                             |
| -------------------- | ---------------------------------------------- |
| **ログイン機能**(Bearer認証) | 権限による機能切り分け                                    |
| **マスター管理**           | 商品、仕入先、メーカー、ユーザーなど                             |
| **在庫管理**             | 在庫数の管理<br>棚卸機能                                 |
| **回収機能**             | 各課からの依頼カードをバーコード読み取り                           |
| **発注機能**             | 回収情報をもとに在庫との差異を自動計算<br>FAXソフト連携（ActiveXコントロール） |
| **入荷機能**             | JANコードによる入荷処理                                  |
| **払出機能**             | 依頼カード分の商品を払い出す                                 |
| **購買管理機能**           | 仕入先別、月別、メーカー別など                                |

---

### 工夫点
- **ユーザビリティ重視のUI設計**
	- 要件定義段階から現場ヒアリングを行い、UIレイアウトや操作を一貫性のあるものに統一。
	- MVVMアーキテクチャにより、UIロジックと業務ロジックを分離。
- **バーコード連携による入力効率の向上**
	- 作業の効率化のため、依頼カードや商品のJANコードをバーコードスキャンで読み取る方式を採用し、マスターとの照合を自動化。
- **年度ごとの商品管理に対応するマスタ切替設計**
	- 年度で商品が変わることを考慮し、年度ごとに商品マスターをExcelから取り込み可能に設計。
	- MySQLのテーブル分割とマッピングにより、年度切替もアプリ側から実行可能
-  **ActiveX制御によるFAX自動連携** 
	- 外部FAXソフトを制御し、PDF出力+FAX送信を一括で可能。
- **MySQLの正規化設計**
	- 商品と仕入先、払出部署など、業務上の多対多関係が多数存在するため、旧システムでは不明確だった。
	- 中間テーブルを活用し、正規化に基づき再設計。整合性と履歴参照のしやすさを考慮した。