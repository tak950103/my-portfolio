## スコープ洗浄管理履歴システム（自社製品）

---

### 目的
内視鏡スコープの洗浄履歴を記録・管理し、医療現場の業務の効率化を図る

---
### 規模・体制
- 導入実績：100施設以上
- バージョン3系から主に自分1人で改修を担当（以前は外注）

---

### 担当
- 要望収集（営業担当から取りまとめ）
- 改修実装（C# / WPF、SQL Server）
- テスト・検証
- 改訂ドキュメント作成

---

### 技術
- WPF（.NET Framework4.5.1）
	- コードビハインド方式でのUI制御、タッチパネル対応
- SQL Server
	- ADO.NETによるDBアクセス、正規化・中間テーブル設計
- 保守・リリース
	- バージョン管理（Bitbucket / SourceTree）
	- スタンドアロン向けインストーラ構築
		- WiXを使ってMSIをビルドし、インストーラで配布

---

### 主な改修内容（抜粋）
- UIの改善
	- 洗浄機一覧や履歴画面のレイアウト調整
	- 誤操作防止のタッチイベント制御
	- パネルの横スクロール対応など、マウス操作で運用される施設向けに改修
- 追加機能対応
	- 履歴内のスタッフ名や検査内容等のNULL更新対応
	- 洗浄スコープの2本洗い対応、患者IDの紐づけ
	- マスタ内の各登録内容について、条件付き削除制御追加
- バグ修正
	- DB更新後、他の登録内容も上書きされる不具合
	- 一覧表示で取得したデータが不足（DBからの取得方法を変更）
- マスタ管理整備と権限制御
	- マスタ内の洗浄機等の表示条件の変更
	- 管理者権限設定により表示内容変更の条件などの見直し
- Windowsサービスの構築
	- 定期的なSQL Serverデータ削除処理の自動化
		- 外部システムとの連携により、不要なレコードが自動登録される事象への対策として、定期的なクリーンアップ処理を実装
	- .wxsファイルからMSIをビルドし、ダブルクリックのみでインストール・サービス登録まで自動化
