## 慣性センサ制御アプリ

---

### 目的
小型無線多機能センサを用いた計測データ（加速度・ジャイロ・地磁気など）の取得・解析・表示、および動画の録画・再生機能を統合したアプリケーションで、センサから取得したデータの研究を支援する。

---

### 期間
2024年11月～2025年1月頃(2024年度分)
2025年6月(2025年度分)

---
### 規模・体制
- データ保存件数：数十件
- ユーザー数：数名
- 開発者：1人

---

### 担当
- 見積
- 要件定義
- 設計
- 開発
- 保守

---

### 技術
#### アプリケーション
- WPF(.NET 8.0)
	- MVVMアーキテクチャ
- SQLite
#### 使用ツール
- Bitbucket、SourceTree

---

### 主な機能

| モード       | 機能          | 内容                                                      |
| --------- | ----------- | ------------------------------------------------------- |
| **計測モード** | **録画機能**    | 映像を.mp4形式で録画。OpenCvを使用                                  |
|           | **グラフ表示**   | センサから送信された計測値をリアルタイムでグラフに表示（OxyPlot）<br>※グラフ表示の配置や場所は可変 |
| **再生モード** | **グラフ表示**   | 選択されたデータの計測値をグラフに表示<br>※グラフ表示の配置や場所は可変                  |
|           | **計測履歴管理**  | 過去データの一覧表示、選択、削除機能                                      |
|           | **動画再生**    | 計測した際に録画した動画を再生、グラフと同期                                  |
|           | **スライダー管理** | 動画とグラフのタイミングの同期をスライダーで管理                                |
|           | **演算結果表示**  | 再生データに対して演算結果の表示<br>（1次方程式程度の演算）<br>最大値・最小値・平均値などの表示    |
| **その他**   | **センサ設定**   | 計測周期やデータ送信・記録設定など、複数台のセンサに対して個別に設定し、コマンドを送信             |
|           | **グラフ設定**   | 各計測データのグラフ表示／非表示の設定<br>XYZ軸の折れ線グラフの色の個別設定               |

---

### 工夫点
- **グラフレイアウトの動的制御**
	- グラフ数の変動ができるため、グラフレイアウトの再構築が可能。X軸・Y軸のスケーリングもユーザー操作により可変。
	- XYZ軸の折れ線グラフについても、個別に表示のON/OFF切替や線の色の設定が可能。
- **グラフと動画の同期再生**
	- スライダー操作により、動画と計測グラフを100ms単位で同期再生可能。
- **スタンドアロン構成**
	- 顧客の構成要件により、データはSQLite + CSVで管理。センサ値はCSVで出力し、SQLiteにはCSVのパスと、動画のパス、日時やセンサ機器名などを保存する構成とした。